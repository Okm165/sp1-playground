#![no_main]

use sp1_zkvm::syscalls::syscall_bn254_add;

sp1_zkvm::entrypoint!(main);

pub fn main() {
    for _ in 0..4 {
        // generator.
        // 1
        // 2
        let mut a: [u32; 16] = [1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0];

        // 2 * generator.
        // 1368015179489954701390400359078579693043519447331113978918064868415326638035
        // 9918110051302171585080402603319702774565515993150576347155970296011118125764
        let b: [u32; 16] = [
            1837617107, 3552708801, 377953448, 3648525993, 1746408837, 2609185883, 773003778,
            50742503, 1511563972, 4282302330, 3813904327, 1755751497, 2997787658, 3884212118,
            235568274, 367883148,
        ];

        syscall_bn254_add(&mut a, &b);

        // 3 * generator.
        // 3353031288059533942658390886683067124040920775575537747144343083137631628272
        // 19321533766552368860946552437480515441416830039777911637913418824951667761761
        let c: [u32; 16] = [
            420850672, 4073936278, 364439161, 2467682375, 2981543189, 4093784764, 3312183871,
            124370842, 3657310817, 3455188797, 194796375, 832463796, 2366137461, 1431296892,
            3762852905, 716675518,
        ];

        assert_eq!(a, c);
    }

    println!("done");
}
