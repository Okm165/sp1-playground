#![no_main]

use sp1_zkvm::syscalls::syscall_bls12381_double;

sp1_zkvm::entrypoint!(main);

pub fn main() {
    for _ in 0..10i64.pow(3) {
        // generator.
        // 3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507
        // 1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569
        let mut a: [u32; 24] = [
            3676489403, 4214943754, 4185529071, 1817569343, 387689560, 2706258495, 2541009157,
            3278408783, 1336519695, 647324556, 832034708, 401724327, 1187375073, 212476713,
            2726857444, 3493644100, 738505709, 14358731, 3587181302, 4243972245, 1948093156,
            2694721773, 3819610353, 146011265,
        ];

        syscall_bls12381_double(&mut a);

        // 2 * generator.
        // 838589206289216005799424730305866328161735431124665289961769162861615689790485775997575391185127590486775437397838
        // 3450209970729243429733164009999191867485184320918914219895632678707687208996709678363578245114137957452475385814312
        let b: [u32; 24] = [
            700387150, 3281685589, 2401008706, 3801052603, 3277366826, 1133522186, 2435318053,
            2535578416, 1353270540, 2282277099, 2420991814, 91409386, 2037685544, 3129378841,
            3440819483, 1280760276, 492820330, 4147886338, 2255545441, 582631115, 2006814264,
            587048563, 2881909667, 376085900,
        ];

        assert_eq!(a, b);
    }

    println!("done");
}
