#![no_main]

use sp1_zkvm::syscalls::syscall_secp256k1_add;

sp1_zkvm::entrypoint!(main);

pub fn main() {
    for _ in 0..4 {
        // generator.
        // 55066263022277343669578718895168534326250603453777594175500187360389116729240
        // 32670510020758816978083085130507043184471273380659243275938904335757337482424
        let mut a: [u32; 16] = [
            385357720, 1509065051, 768485593, 43777243, 3464956679, 1436574357, 4191992748,
            2042521214, 4212184248, 2621952143, 2793755673, 4246189128, 235997352, 1571093500,
            648266853, 1211816567,
        ];

        // 2 * generator.
        // 89565891926547004231252920425935692360644145829622209833684329913297188986597
        // 12158399299693830322967808612713398636155367887041628176798871954788371653930
        let b: [u32; 16] = [
            1550884581, 2880178617, 2364488871, 1551339083, 2512420056, 809844846, 1106083181,
            3322183572, 1355801898, 593768873, 845598945, 4160107109, 1181543150, 2747630617,
            2789065529, 450980094,
        ];

        syscall_secp256k1_add(&mut a, &b);

        // 3 * generator.
        // 112711660439710606056748659173929673102114977341539408544630613555209775888121
        // 25583027980570883691656905877401976406448868254816295069919888960541586679410
        let c: [u32; 16] = [
            3168810745, 2248274195, 2205129136, 3039938629, 4171059753, 1228164997, 2455290640,
            4180707841, 2226710130, 1824128373, 885138203, 1694542233, 708309846, 266549222,
            1663952916, 948927247,
        ];

        assert_eq!(a, c);
    }

    println!("done");
}
