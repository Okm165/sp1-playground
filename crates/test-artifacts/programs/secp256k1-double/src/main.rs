#![no_main]

use sp1_zkvm::syscalls::syscall_secp256k1_double;

sp1_zkvm::entrypoint!(main);

pub fn main() {
    for _ in 0..10i64.pow(3) {
        // generator.
        // 55066263022277343669578718895168534326250603453777594175500187360389116729240
        // 32670510020758816978083085130507043184471273380659243275938904335757337482424
        let mut a: [u32; 16] = [
            385357720, 1509065051, 768485593, 43777243, 3464956679, 1436574357, 4191992748,
            2042521214, 4212184248, 2621952143, 2793755673, 4246189128, 235997352, 1571093500,
            648266853, 1211816567,
        ];

        syscall_secp256k1_double(&mut a);

        // 2 * generator.
        // 89565891926547004231252920425935692360644145829622209833684329913297188986597
        // 12158399299693830322967808612713398636155367887041628176798871954788371653930
        let b: [u32; 16] = [
            1550884581, 2880178617, 2364488871, 1551339083, 2512420056, 809844846, 1106083181,
            3322183572, 1355801898, 593768873, 845598945, 4160107109, 1181543150, 2747630617,
            2789065529, 450980094,
        ];

        assert_eq!(a, b);
    }

    println!("done");
}
