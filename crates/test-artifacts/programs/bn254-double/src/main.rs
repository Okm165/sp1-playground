#![no_main]

use sp1_zkvm::syscalls::syscall_bn254_double;

sp1_zkvm::entrypoint!(main);

pub fn main() {
    for _ in 0..10i64.pow(3) {
        // generator.
        // 1
        // 2
        let mut a: [u32; 16] = [1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0];

        syscall_bn254_double(&mut a);

        // 2 * generator.
        // 1368015179489954701390400359078579693043519447331113978918064868415326638035
        // 9918110051302171585080402603319702774565515993150576347155970296011118125764
        let b: [u32; 16] = [
            1837617107, 3552708801, 377953448, 3648525993, 1746408837, 2609185883, 773003778,
            50742503, 1511563972, 4282302330, 3813904327, 1755751497, 2997787658, 3884212118,
            235568274, 367883148,
        ];

        assert_eq!(a, b);
    }

    println!("done");
}
